(this.webpackJsonppicker=this.webpackJsonppicker||[]).push([[0],{60:function(e,t,n){},61:function(e,t,n){},62:function(e,t,n){},67:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(8),i=n.n(c),s=n(94),o=n(98),l=n(99),u=(n(60),n(33)),j=n(11),d=n(39),b=n(102),O=n(104),f=n(103),h=n(105),v=n(101),m=(n(61),n(42)),x=n(100),p=(n(62),n(5));var g=function(e){var t=e.restaurant,n=e.setDoRerollSide,r=e.randomize,c=e.side,i=e.index,d=e.setOptions,b=Object(a.useState)(!1),O=Object(j.a)(b,2),f=O[0],h=O[1],g=Object(a.useState)(t?t.name:void 0),N=Object(j.a)(g,2),S=N[0],y=N[1];Object(a.useEffect)((function(){f&&t&&t.name!==S?(h(!1),y(t.name)):t&&t.name!==S&&y(t.name)}),[t]);var R=function(e){var t=[!1,!1];t[c]=!0,n(t),r(e)};return Object(p.jsxs)(s.a,{className:"restaurant-card",variant:"outlined",children:[Object(p.jsx)(o.a,{title:t?t.name:"To Be Decided"}),Object(p.jsx)(l.a,{children:t?t.genre:""}),t?Object(p.jsxs)(x.a,{children:[Object(p.jsx)(v.a,{variant:"outlined",color:"primary",onClick:function(){return R()},children:"Re-roll"}),Object(p.jsx)(v.a,{variant:"outlined",color:"primary",onClick:function(){return R(t.genre)},children:"Same Genre Re-roll"}),f?Object(p.jsx)(v.a,{disabled:!0,variant:"outlined",color:"primary",children:"Chosen :)"}):Object(p.jsx)(v.a,{variant:"outlined",color:"primary",onClick:function(){d((function(e){var t=Object(u.a)(e);return t[i]=Object(m.a)(Object(m.a)({},e[i]),{},{visited:e[i].visited+1}),t})),h(!0)},children:"Choose Me"})]}):null]})},N=[{name:"Restaurant 1",genre:"Italian",visited:0},{name:"Restaurant 2",genre:"French",visited:0},{name:"Restaurant 3",genre:"British",visited:0},{name:"Restaurant 4",genre:"British",visited:0},{name:"Restaurant 5",genre:"British",visited:0},{name:"Restaurant 6",genre:"British",visited:0}];var S=function(e){var t=Object(a.useState)(N),n=Object(j.a)(t,2),r=n[0],c=n[1],i=Object(a.useState)([-1,-1]),s=Object(j.a)(i,2),o=s[0],l=s[1],m=Object(a.useState)([]),x=Object(j.a)(m,2),S=x[0],y=x[1],R=Object(a.useState)([!0,!0]),C=Object(j.a)(R,2),k=C[0],P=C[1],w=Object(a.useState)(0),z=Object(j.a)(w,2),B=z[0],E=z[1],F=Object(a.useState)(0),I=Object(j.a)(F,2),M=I[0],D=I[1],J=Object(a.useState)(""),T=Object(j.a)(J,2),G=T[0],L=T[1];Object(a.useEffect)((function(){c(JSON.parse(localStorage.getItem("options"))?JSON.parse(localStorage.getItem("options")):N)}),[]),Object(a.useEffect)((function(){console.log(r),localStorage.setItem("options",JSON.stringify(r))}),[r]);var U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;console.log("randomize(".concat(e,": ").concat(typeof e,", ").concat(t,": ").concat(typeof t,")"));var n=[],a=r.map((function(e,t){return[e,t]})).filter((function(n){var a=Object(j.a)(n,2),r=a[0],c=(a[1],0===t||1===t||2===t&&0===r.visited);return r.genre.includes(e)&&c}));a.forEach((function(e){var a=Object(j.a)(e,2),r=a[0],c=a[1];if(1===t&&0===r.visited)for(var i=0;i<5;i++)n.push(c);else n.push(c)})),y(n),E(50)};return Object(a.useEffect)((function(){B>0&&setTimeout((function(){var e,t=k[0]?S[Math.floor(Math.random()*S.length)]:o[0];do{e=k[1]?S[Math.floor(Math.random()*S.length)]:o[1]}while(e===t&&S.length>1);l([t,e]),E((function(e){return e-1}))}),25)}),[B]),Object(p.jsxs)("div",{className:"randomizer-root",children:[Object(p.jsx)(d.a,{variant:"h4",children:"Restaurant:"}),Object(p.jsxs)("div",{className:"randomizer-filters",children:[Object(p.jsxs)(b.a,{children:[Object(p.jsx)(O.a,{children:"Genre"}),Object(p.jsxs)(f.a,{value:G,onChange:function(e){return L(e.target.value)},children:[Object(p.jsx)(h.a,{value:"",children:"None"}),r.map((function(e){return e.genre})).filter((function(e,t,n){return n.indexOf(e)===t})).map((function(e){return Object(p.jsx)(h.a,{value:e,children:e},e)}))]})]}),Object(p.jsxs)(b.a,{children:[Object(p.jsx)(O.a,{children:"New Places"}),Object(p.jsxs)(f.a,{value:M,onChange:function(e){return D(e.target.value)},children:[Object(p.jsx)(h.a,{value:0,children:"No Preference"}),Object(p.jsx)(h.a,{value:1,children:"Prefer New Places"}),Object(p.jsx)(h.a,{value:2,children:"Only New Places"})]})]})]}),Object(p.jsxs)("div",{className:"randomizer-wrapper",children:[Object(p.jsx)("div",{className:"flex-spacer"}),Object(p.jsx)(g,{restaurant:r[o[0]],setDoRerollSide:P.bind(this),randomize:function(e){return U(e,M)},side:0,index:o[0],setOptions:c.bind(this)}),Object(p.jsx)("div",{className:"flex-spacer"}),Object(p.jsx)(g,{restaurant:r[o[1]],setDoRerollSide:P.bind(this),randomize:function(e){return U(e,M)},side:1,index:o[1],setOptions:c.bind(this)}),Object(p.jsx)("div",{className:"flex-spacer"})]}),Object(p.jsxs)(v.a,{variant:"outlined",component:"label",color:"primary",children:["Upload File",Object(p.jsx)("input",{type:"file",hidden:!0,onChange:function(e){e.target.files[0].text().then((function(e){var t=e.split("\r\n").filter((function(e){return e&&e.length>0})).map((function(e){var t=e.split(","),n=Object(j.a)(t,2);return{genre:n[0],name:n[1],visited:0}})),n=t.filter((function(e){return!r.some((function(t){return t.name===e.name&&t.genre===e.genre}))}));c((function(e){return[].concat(Object(u.a)(e.filter((function(e){return t.some((function(t){return e.name===t.name}))}))),Object(u.a)(n))}))}))}})]}),Object(p.jsx)(v.a,{onClick:function(){return U(G,M)},color:"secondary",variant:"contained",children:"Go!"})]})};var y=function(){return Object(p.jsxs)("div",{className:"app",children:[Object(p.jsx)("div",{className:"flex-spacer"}),Object(p.jsxs)("div",{className:"app2",children:[Object(p.jsx)("div",{className:"flex-spacer"}),Object(p.jsxs)(s.a,{className:"panel",children:[Object(p.jsx)(o.a,{title:"Restuaurant Picker",titleTypographyProps:{variant:"h3"},className:"head"}),Object(p.jsx)(l.a,{children:Object(p.jsx)(S,{})})]}),Object(p.jsx)("div",{className:"flex-spacer"})]}),Object(p.jsx)("div",{className:"flex-spacer"})]})},R=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,107)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),c(e),i(e)}))};i.a.render(Object(p.jsx)(r.a.StrictMode,{children:Object(p.jsx)(y,{})}),document.getElementById("root")),R()}},[[67,1,2]]]);
//# sourceMappingURL=main.ea9c4c43.chunk.js.map